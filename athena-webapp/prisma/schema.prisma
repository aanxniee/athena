generator client {
  provider = "prisma-client-js"
  previewFeatures = ["jsonProtocol"]
}

datasource db {
  provider = "mysql"
  url = env("DATABASE_URL")
  relationMode = "prisma"
}

model User{

  userId Int @id @default(autoincrement()) @unique
  firstName String
  lastName String
  email String @unique
  gradYear Int
  yourMenteeId Mentee?
  yourMentorId Mentor? 
  linkinedinUrl String @unique
  instagramUrl String @unique
  githubUrl String
}

model Mentor{
mentorId Int @id @default(autoincrement()) @unique
user User @relation(fields: [mentorId], references: [userId])
assignedMentees Match[]
careerInterests String
hobbies String
skills String


@@index([mentorId])
}
model Mentee {
menteeId Int @id @default(autoincrement()) @unique
user User @relation(fields: [menteeId], references: [userId])
assignedMentor Match?
careerInterests String
hobbies String
@@index([menteeId])
}

model Match{
  
  mentorId Int
  mentor Mentor @relation(fields: [mentorId], references: [mentorId])
  menteeId Int @unique
  mentee Mentee @relation(fields: [menteeId], references: [menteeId])
  @@index([mentorId,menteeId])
  @@id([mentorId, menteeId])
}